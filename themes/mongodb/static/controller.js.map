{"version":3,"file":"controller.js","sources":["../src/js/util.js","../src/js/componentAccordion.js","../src/js/componentCloseOpen.js","../src/js/componentCodeBlockFix.js","../src/js/componentCopyButtons.js","../src/js/componentFastLoad.js","../src/node_modules/prop-types/lib/ReactPropTypesSecret.js","../src/node_modules/prop-types/factoryWithThrowingShims.js","../src/node_modules/prop-types/index.js","../src/node_modules/preact/dist/preact.mjs","../src/deluge/BinaryQuestion.js","../src/deluge/FreeformQuestion.js","../src/deluge/MainWidget.js","../src/deluge/deluge.js","../src/js/componentFeedback.js","../src/js/componentTabs.js","../src/js/componentGuides.js","../src/js/componentLightbox.js","../src/js/componentOpenAPI.js","../src/js/componentPillStrip.js","../src/js/componentSidebar.js","../src/js/componentThirdParty.js","../src/js/componentToggleController.js","../src/js/componentUriwriter.js","../src/js/componentVersionSelector.js","../src/js/controller.js"],"sourcesContent":["export function isLeafNode($node) {\n    return !$node.siblings('ul:not(.simple)').length;\n}\n\nexport function toArray(arrayLike) {\n    const result = [];\n    for (let i = 0; i < arrayLike.length; i += 1) {\n        result.push(arrayLike[i]);\n    }\n\n    return result;\n}\n\n/* Checks a whitelist for non-leaf nodes that should trigger a full page reload */\nexport function requiresPageload($node) {\n    const docsExcludedNav = window.docsExcludedNav;\n\n    if (!docsExcludedNav || !docsExcludedNav.length) {\n        return false;\n    }\n\n    for (let i = 0; i < docsExcludedNav.length; i += 1) {\n        if ($node[0].href.indexOf(docsExcludedNav[i]) !== -1) {\n            return true;\n        }\n    }\n    return false;\n}\n\nexport function throttle(func, wait) {\n    let args = null;\n    let result = null;\n    let timeout = null;\n    let previous = 0;\n\n    function later() {\n        previous = Date.now();\n        timeout = null;\n        result = func.apply(...args);\n        if (!timeout) {\n            args = null;\n        }\n    }\n\n    return function(...newArgs) {\n        const now = Date.now();\n        const remaining = wait - (now - previous);\n        args = newArgs;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                window.clearTimeout(timeout);\n                timeout = null;\n            }\n\n            previous = now;\n            result = func(...args);\n            if (!timeout) {\n                args = null;\n            }\n        } else if (!timeout) {\n            timeout = window.setTimeout(later, remaining);\n        }\n\n        return result;\n    };\n}\n\nexport function reportAnalytics(eventName, data) {\n    try {\n        window.analytics.track(eventName, data);\n    } catch (err) {\n        console.error(`Error reporting analytics: ${eventName}`, err);\n    }\n}\n\nexport class Dispatcher {\n    constructor() {\n        this.listeners = [];\n    }\n\n    listen(handler) {\n        this.listeners.push(handler);\n    }\n\n    dispatch(ctx) {\n        for (let i = 0; i < this.listeners.length; i += 1) {\n            this.listeners[i](ctx);\n        }\n    }\n}\n","import {reportAnalytics} from './util';\n\nconst COLLAPSED_PROPERTY = 'accordion--collapsed';\n\n/**\n * Expands and collapses the accordion. Changes the label for the\n * action, i.e., \"Expand\" or \"Collapse\"\n * @param {object} element The accordion element.\n * @returns {void}\n */\nfunction accordionShowHide(element) {\n    element.classList.toggle(COLLAPSED_PROPERTY);\n\n    const control = element.querySelector('.accordion__action');\n    control.innerHTML = (control.innerHTML === 'Expand') ? 'Collapse' : 'Expand';\n\n    const title = element.querySelector('.accordion__title').innerText;\n    reportAnalytics('Accordion Toggled', {\n        'title': title,\n        'status': element.classList.contains(COLLAPSED_PROPERTY) ? 'collapsed' : 'expanded'\n    });\n}\n\nexport function setup() {\n    // Get accordions and assign listeners to handle expand/collapse\n    const accordionElements = document.getElementsByClassName('accordion');\n    for (let i = 0; i < accordionElements.length; i += 1) {\n        const element = accordionElements[i];\n        const button = element.querySelector('.accordion__button');\n\n        button.addEventListener('click', accordionShowHide.bind(this, element));\n    }\n}\n","export function setup() {\n    const showNavButton = document.getElementById('showNav');\n    if (showNavButton) {\n        showNavButton.onclick = () => {\n            document.getElementById('sphinxsidebar').style.display = 'block';\n            document.getElementById('left-column').style.display = 'flex';\n            document.getElementById('showNav').style.display = 'none';\n        };\n    }\n\n    const closeNavButton = document.getElementById('closeNav');\n    if (closeNavButton) {\n        closeNavButton.onclick = () => {\n            document.getElementById('showNav').style.display = 'flex';\n            document.getElementById('left-column').style.display = 'none';\n        };\n    }\n}\n","/*\ncode-blocks with the :linenos: options render an html table, unlike\nregular code-blocks. This component moves the button row into a new row\nof the html table to fix the visual alignment.\n\nhttps://jira.mongodb.org/browse/DOCSP-2064\n*/\n\nfunction isLineNumberBlock(block) {\n    return Boolean(block.getElementsByClassName('linenos').length);\n}\n\nfunction isCaptionBlock(block) {\n    return Boolean(block.getElementsByClassName('caption-text').length);\n}\n\nfunction hasButtonRow(block) {\n    return Boolean(block.getElementsByClassName('button-row')[0]);\n}\n\nfunction moveButtonRowToTable(block) {\n    // Select existing elements\n    const buttonRow = block.getElementsByClassName('button-row')[0];\n    const tableBody = block.getElementsByClassName('highlighttable')[0].childNodes[0];\n\n    // Create new table elements\n    const tableButtonRow = document.createElement('tr');\n    const linenosSpacer = document.createElement('td');\n    const buttonRowDestination = document.createElement('td');\n\n    // Add class for { table-layout: fixed; } styling\n    linenosSpacer.className = 'linenos-button-row-spacer';\n\n    // Manipulate the DOM\n    tableBody.insertBefore(tableButtonRow, tableBody.firstChild);\n    tableButtonRow.appendChild(linenosSpacer);\n    tableButtonRow.appendChild(buttonRowDestination);\n    buttonRowDestination.appendChild(buttonRow);\n}\n\nfunction moveButtonRowBelowCaption(block) {\n    // Select existing elements\n    const buttonRow = block.getElementsByClassName('button-row')[0];\n    const caption = block.getElementsByClassName('code-block-caption')[0];\n\n    console.log('MOVING BELOW CAPTION');\n\n    // Manipulate the DOM\n    caption.parentNode.insertBefore(buttonRow, caption.nextSibling);\n}\n\nfunction fixCodeBlock(block) {\n    if (isLineNumberBlock(block)) {\n        moveButtonRowToTable(block);\n    }\n    else if (isCaptionBlock(block)) {\n        moveButtonRowBelowCaption(block);\n    }\n}\n\nexport function setup() {\n    const codeblocks = document.getElementsByClassName('button-code-block');\n    for (const codeblock of codeblocks) {\n        if (hasButtonRow(codeblock)) {\n            fixCodeBlock(codeblock);\n        }\n    }\n}\n","import {reportAnalytics, toArray} from './util';\n\nconst TOOLTIP_STATE_ACTIVE = 'code-button__tooltip--active';\nconst TOOLTIP_STATE_INACTIVE = 'code-button__tooltip--inactive';\n\nfunction cancelAndWait(f, timeoutID, ms) {\n    if (timeoutID >= 0) {\n        window.clearTimeout(timeoutID);\n    }\n\n    return window.setTimeout(f, ms);\n}\n\nfunction isCopyableCodeBlock(block) {\n    return Boolean(block.getElementsByClassName('copyable-code-block')[0]);\n}\n\nexport function setup() {\n    const buttonCodeBlocks = document.getElementsByClassName('button-code-block');\n    const copyableBlocks = toArray(buttonCodeBlocks).filter(isCopyableCodeBlock);\n\n    for (const block of copyableBlocks) {\n        const highlightElement = block.getElementsByClassName('highlight')[0];\n        if (!highlightElement) {\n            return;\n        }\n\n        const buttonRow = block.getElementsByClassName('button-row')[0];\n        const copyButton = buttonRow.getElementsByClassName('code-button--copy')[0];\n        if (!copyButton) {\n            return;\n        }\n\n        const popupElement = document.createElement('div');\n        popupElement.innerText = 'copied';\n        popupElement.classList.add('code-button__tooltip');\n        popupElement.classList.add(TOOLTIP_STATE_INACTIVE);\n        let closePopupTimer = -1;\n\n        copyButton.appendChild(popupElement);\n        copyButton.addEventListener('click', () => {\n            const tempElement = document.createElement('textarea');\n            tempElement.style.position = 'fixed';\n            document.body.appendChild(tempElement);\n            const text = highlightElement.innerText.trim();\n            tempElement.value = text;\n            tempElement.select();\n\n            try {\n                const successful = document.execCommand('copy');\n                if (!successful) {\n                    throw new Error('Failed to copy');\n                }\n\n                popupElement.classList.replace(TOOLTIP_STATE_INACTIVE, TOOLTIP_STATE_ACTIVE);\n                closePopupTimer = cancelAndWait(() => {\n                    popupElement.classList.replace(TOOLTIP_STATE_ACTIVE, TOOLTIP_STATE_INACTIVE);\n                }, closePopupTimer, 1500);\n            } catch (err) {\n                console.error(err);\n            }\n\n            document.body.removeChild(tempElement);\n\n            reportAnalytics('Codeblock Copied', {'code': text});\n        });\n    }\n}\n","import * as util from './util';\n\n/* Wrapper around XMLHttpRequest to make it more convenient\n * Calls options.success(response, url), providing the response text and\n *         the canonical URL after redirects.\n * Calls options.error() on error.\n * jQuery's wrapper does not supply XMLHttpRequest.responseURL, making\n * this rewrite necessary. */\nfunction xhrGet(url, options) {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onload = function() {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            options.success(xhr.responseText, xhr.responseURL);\n            options.complete();\n        } else {\n            options.error();\n            options.complete();\n        }\n    };\n\n    xhr.onerror = function() {\n        options.error();\n        options.complete();\n    };\n\n    xhr.open('GET', url, true);\n    try {\n        xhr.send();\n    } catch (err) {\n        options.error();\n        options.complete();\n    }\n}\n\n// Because this is a SPA,  the browser can't scroll to find hashes\n// on its own.\nwindow.addEventListener('hashchange', () => {\n    if (!window.location.hash) { return; }\n\n    const el = document.getElementById(window.location.hash.slice(1));\n    if (!el) { return; }\n    el.scrollIntoView(true);\n});\n\n// If the browser is sufficiently modern, make navbar links load only\n// content pieces to avoid a full page load.\nexport function setup(fastNav) {\n    if (window.history === undefined ||\n        document.querySelectorAll === undefined ||\n        document.body.classList === undefined ||\n        (new XMLHttpRequest()).responseURL === undefined) {\n        return false;\n    }\n\n    let navRootElement = document.querySelector('.sphinxsidebarwrapper');\n    let bodyElement = document.querySelector('.body');\n    let curLoading = {};\n\n    // Set up initial state so we can return to our initial landing page.\n    window.history.replaceState({'href': window.location.href},\n        document.querySelector('title').textContent,\n        window.location.href);\n\n    // Stop loading the currently-in-progress page.\n    function abortLoading() {\n        if (curLoading.timeoutID !== undefined) {\n            window.clearTimeout(curLoading.timeoutID);\n        }\n\n        if (curLoading.xhr !== undefined) {\n            curLoading.xhr.abort();\n        }\n\n        curLoading = {};\n    }\n\n    // Load the specified URL.\n    function loadPage(href, createHistory) {\n        if (href === undefined) {\n            console.error('Going to undefined path');\n        }\n\n        abortLoading();\n        bodyElement.classList.add('loading');\n\n        // If something goes wrong while loading, we don't want to leave\n        // people without a paddle. If we can't load after a long period of\n        // time, bring back the original content.\n        curLoading.timeoutID = window.setTimeout(() => {\n            bodyElement.classList.remove('loading');\n            curLoading.timeoutID = -1;\n        }, 10000);\n\n        const startTime = new Date();\n        curLoading.xhr = xhrGet(href, {\n            'complete': () => {\n                abortLoading();\n            },\n            'error': (error) => {\n            // Some browsers consider any file://-type request to be cross-origin.\n            // Upon any kind of error, fall back to classic behavior\n                console.error(`Failed to load ${href}`);\n                window.location = href;\n            },\n            'success': (pageText, trueUrl) => {\n                const enlapsedMs = (new Date()) - startTime;\n                bodyElement.classList.remove('loading');\n\n                // Change URL before loading the DOM to properly resolve URLs\n                if (createHistory && trueUrl !== window.location.href) {\n                    window.history.pushState({'href': trueUrl}, '', trueUrl);\n                }\n\n                const page = document.createElement('html');\n                page.innerHTML = pageText;\n                const title = page.querySelector('title').textContent;\n                const newBody = page.querySelector('.body');\n                const newNav = page.querySelector('.sphinxsidebarwrapper');\n\n                // Fade in ONLY if we had enough time to start fading out.\n                if (enlapsedMs > (250 / 4)) {\n                    newBody.classList.add('loading');\n                }\n\n                // Replace the DOM elements\n                bodyElement.parentElement.replaceChild(newBody, bodyElement);\n                bodyElement = newBody;\n                navRootElement.parentElement.replaceChild(newNav, navRootElement);\n                navRootElement = newNav;\n                document.title = title;\n\n                // Update dynamic page features\n                fastNav.update();\n\n                if (window.history.onnavigate) {\n                    window.history.onnavigate();\n                }\n\n                // Prime the new DOM so that we can set up our fade-in\n                // animation and scroll the new contents to the top.\n                window.setTimeout(() => {\n                    bodyElement.classList.remove('loading');\n\n                    // Scroll to the top of the page only if this is a new history entry.\n                    if (createHistory) {\n                        window.scroll(0, 0);\n                    }\n                }, 1);\n            }\n        });\n    }\n\n    // Set up fastnav links\n    const nodes = document.querySelectorAll('.sphinxsidebarwrapper > ul a.reference.internal');\n    function handleClickFunction(ev) {\n        // Ignore anything but vanilla click events, so that people can\n        // still use special browser behaviors like open in new tab.\n        if (!(ev.button !== 0 || ev.shiftKey || ev.altKey || ev.metaKey || ev.ctrlKey)) {\n            ev.preventDefault();\n            loadPage(ev.currentTarget.href, true);\n        }\n    }\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (!util.isLeafNode($(node)) && !util.requiresPageload($(node))) { continue; }\n\n        node.addEventListener('click', handleClickFunction);\n    }\n\n    window.onpopstate = function(ev) {\n        if (ev.state === null) { return; }\n        loadPage(ev.state.href, false);\n    };\n\n\n    return true;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nexport default function BinaryQuestion({children, store}) {\n    const value = store.get();\n    const upvoteClass = value === true ? 'selected' : '';\n    const downvoteClass = value === false ? 'selected' : '';\n\n    return (\n        <div>\n            <div key=\"caption\">{children}</div>\n            <div key=\"question\">\n                <span class={`switch fa fa-thumbs-up good ${upvoteClass}`}\n                    onClick={() => store.set(true)}></span>\n                <span class={`switch fa fa-thumbs-down bad ${downvoteClass}`}\n                    onClick={() => store.set(false)}></span>\n            </div>\n        </div>);\n}\n\nBinaryQuestion.propTypes = {\n    'children': PropTypes.arrayOf(PropTypes.node),\n    'store': PropTypes.objectOf(PropTypes.func).isRequired\n};\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nexport default function FreeformQuestion({placeholder, store}) {\n    return (\n        <textarea\n            placeholder={placeholder}\n            onChange={(ev) => store.set(ev.target.value)}\n            value={store.get() || ''}></textarea>\n    );\n}\n\nFreeformQuestion.propTypes = {\n    'placeholder': PropTypes.string,\n    'store': PropTypes.objectOf(PropTypes.func).isRequired\n};\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\n// State enum\nconst STATE_INITIAL = 'Initial';\nconst STATE_NOT_VOTED = 'NotVoted';\nconst STATE_VOTED = 'Voted';\n\nclass MainWidget extends preact.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            'state': STATE_INITIAL\n        };\n\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onToggle = this.onToggle.bind(this);\n    }\n\n    onSubmit() {\n        this.props.onSubmit(this.state.state);\n        this.setState({'state': STATE_VOTED});\n    }\n\n    onToggle() {\n        this.props.onClear();\n        if (this.state.state === STATE_INITIAL) {\n            this.setState({'state': STATE_NOT_VOTED});\n        } else {\n            this.setState({'state': STATE_INITIAL});\n        }\n    }\n\n    render({children, voteAcknowledgement}, {state}) {\n        const delugeBodyClass = (state === STATE_INITIAL)\n            ? 'deluge-body'\n            : 'deluge-body deluge-body-expanded';\n        const delugeHeaderClass = (state === STATE_INITIAL)\n            ? 'deluge-header'\n            : 'deluge-header deluge-header-expanded';\n        const delugeClass = (state === STATE_INITIAL)\n            ? 'deluge'\n            : 'deluge deluge-expanded';\n\n        let body = null;\n        if (state === STATE_VOTED && voteAcknowledgement === 'down') {\n            body = (\n                <p>If this page contains an error, you may <a\n                    class=\"deluge-fix-button\"\n                    href=\"https://jira.mongodb.org/\">\n                        report the problem on Jira.</a></p>);\n        } else if (state === STATE_VOTED && !voteAcknowledgement) {\n            body = (<p>Submitting feedback...</p>);\n        } else if (state === STATE_NOT_VOTED) {\n            body = [\n                (<a key=\"voteup\" id=\"rate-up\"\n                    onClick={() => this.setState({'state': true})}\n                    class=\"deluge-vote-button\">Yes</a>),\n                (<a key=\"votedown\" id=\"rate-down\"\n                    onClick={() => this.setState({'state': false})}\n                    class=\"deluge-vote-button\">No</a>)];\n        } else if (typeof state === 'boolean') {\n            const sorry = (state === false)\n                ? <li>We&apos;re sorry! Please help us improve this page.</li>\n                : null;\n\n            body = (\n                <div class=\"deluge-questions\">\n                    <ul>\n                        {sorry}\n                        {children.map((el, i) => <li key={i}>{el}</li>)}\n                    </ul>\n\n                    <div class=\"deluge-button-group\">\n                        <button onClick={this.onToggle}>Cancel</button>\n                        <button class=\"primary\"\n                            onClick={this.onSubmit}>Submit</button>\n                    </div>\n                </div>\n            );\n        }\n\n\n        return (\n            <div class={delugeClass}>\n                <div class={delugeHeaderClass} onClick={this.onToggle}>\n                    {state === STATE_INITIAL &&\n                        <span class=\"fa fa-comments deluge-comment-icon\"></span>}\n                    <span class=\"deluge-helpful\">Was this page helpful?</span>\n                    {state !== STATE_INITIAL &&\n                        <span class=\"fa fa-angle-down deluge-close-icon\"></span>}\n                </div>\n\n                <div class={delugeBodyClass}>\n                    {state === STATE_VOTED &&\n                        voteAcknowledgement === 'up' &&\n                        <p>Thank you for your feedback!</p>}\n                    {body}\n                </div>\n            </div>\n        );\n    }\n}\n\nMainWidget.propTypes = {\n    'onSubmit': PropTypes.func.isRequired,\n    'onClear': PropTypes.func.isRequired,\n    'children': PropTypes.arrayOf(PropTypes.node),\n    'voteAcknowledgement': PropTypes.string\n};\n\nexport default MainWidget;\n","import BinaryQuestion from './BinaryQuestion';\nimport FreeformQuestion from './FreeformQuestion';\nimport MainWidget from './MainWidget';\nimport PropTypes from 'prop-types';\nimport preact from 'preact';\n\nconst FEEDBACK_URL = 'http://deluge.us-east-1.elasticbeanstalk.com/';\n\n// Take a url and a query parameters object, and return the resulting url.\nfunction addQueryParameters(url, parameters) {\n    const queryComponents = Object.keys(parameters).map((key) =>\n        `${encodeURIComponent(key)}=${encodeURIComponent(JSON.stringify(parameters[key]))}`);\n    return `${url}?${queryComponents.join('&')}`;\n}\n\nclass Deluge extends preact.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            'answers': {},\n            'voteAcknowledgement': null\n        };\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    onSubmit(vote) {\n        const fields = {};\n\n        const answers = this.state.answers;\n        const keys = Object.keys(answers);\n        for (let i = 0; i < keys.length; i += 1) {\n            const key = keys[i];\n\n            // Report booleans and non-empty strings\n            if (answers[key] || answers[key] === false) {\n                fields[key] = answers[key];\n            }\n        }\n\n        this.sendRating(vote, fields).then(() => {\n            this.setState({\n                'voteAcknowledgement': (vote) ? 'up' : 'down'\n            });\n        }).\n            catch((err) => {\n                console.error(err);\n            });\n    }\n\n    sendRating(vote, fields) {\n        const path = `${this.props.project}/${this.props.path}`;\n\n        // Report to Segment\n        const analyticsData = {\n            'useful': vote,\n            ...fields\n        };\n\n        try {\n            const user = window.analytics.user();\n            const segmentUID = user.id();\n            if (segmentUID) {\n                fields.segmentUID = segmentUID.toString();\n            } else {\n                fields.segmentAnonymousID = user.anonymousId().toString();\n            }\n            window.analytics.track('Feedback Submitted', analyticsData);\n        } catch (err) {\n            console.error(err);\n        }\n\n        // Report to Deluge\n        return new Promise((resolve, reject) => {\n            const url = addQueryParameters(FEEDBACK_URL, {\n                ...fields,\n                'v': vote,\n                'p': path,\n                'url': location.href\n            });\n\n            // Report this rating using an image GET to work around the\n            // same-origin policy\n            const img = new Image();\n            img.onload = () => resolve();\n            img.onerror = () => reject(new Error('Failed to report feedback'));\n            img.src = url;\n        });\n    }\n\n    makeStore(key) {\n        return {\n            'get': () => this.state.answers[key],\n            'set': (val) => this.setState((prevState) => ({\n                'answers': {\n                    ...prevState.answers,\n                    [key]: val\n                }\n            }))\n        };\n    }\n\n    render(props, {voteAcknowledgement}) {\n        return (\n            <MainWidget\n                voteAcknowledgement={voteAcknowledgement}\n                onSubmit={this.onSubmit}\n                onClear={() => this.setState({'answers': {}})}>\n                <FreeformQuestion\n                    store={this.makeStore('reason')}\n                    placeholder=\"What were you looking for?\" />\n                <BinaryQuestion\n                    store={this.makeStore('findability')}>\n                    Did you find it?</BinaryQuestion>\n                <BinaryQuestion\n                    store={this.makeStore('accuracy')}>\n                    Was the information you found <strong>accurate</strong></BinaryQuestion>\n                <BinaryQuestion\n                    store={this.makeStore('clarity')}>\n                    Was the information <strong>clear</strong>?</BinaryQuestion>\n                <BinaryQuestion\n                    store={this.makeStore('fragmentation')}>\n                    Was the information you needed <strong>all on one page</strong>?\n                </BinaryQuestion>\n            </MainWidget>\n        );\n    }\n}\n\nDeluge.propTypes = {\n    'project': PropTypes.string.isRequired,\n    'path': PropTypes.string.isRequired\n};\n\nexport default function deluge(project, path, rootElement) {\n    preact.render('', rootElement, rootElement._delugeRendered);\n\n    if (path) {\n        rootElement._delugeRendered = preact.render(\n            <Deluge project={project} path={path} />,\n            rootElement);\n    }\n}\n","import deluge from '../deluge/deluge';\n\nlet project = null;\nlet ratingPanelElement = null;\n\n// Files on which we should not have feedback widgets\nconst blacklist = ['meta/404', 'search'];\n\nfunction getPageName() {\n    const bodyElements = document.getElementsByClassName('body');\n    if (!bodyElements.length) { return null; }\n\n    const pagename = bodyElements[0].getAttribute('data-pagename');\n    if (blacklist.indexOf(pagename) >= 0) {\n        return null;\n    }\n\n    return pagename;\n}\n\nexport function init() {\n    project = document.body.getAttribute('data-project');\n    ratingPanelElement = document.getElementById('rating-panel');\n}\n\nexport function setup() {\n    // We require DOM storage. Don't show anything if support is not present.\n    if (window.localStorage === undefined) { return; }\n\n    if (ratingPanelElement) {\n        deluge(project, getPageName(), ratingPanelElement);\n    }\n}\n","import {Dispatcher, reportAnalytics, toArray} from './util';\n\nexport const tabsEventDispatcher = new Dispatcher();\n\n/**\n * Show only the first set of tabs at the top of the page.\n * @returns {void}\n */\nfunction hideTabBars() {\n    const isTop = document.querySelector('.tabs-top');\n    if (isTop) {\n        const tabBars = $('.tab-strip--singleton');\n        const mainTabBar = tabBars.first();\n        // Remove any additional tab bars\n        tabBars.slice(1).\n            detach();\n        // Position the main tab bar after the page title\n        mainTabBar.\n            detach().\n            insertAfter('h1').\n            first();\n    }\n}\n\n/**\n * Return the tabPref object containing preferences for tab sets\n * and page specific prefs. Returns an empty object if it doesn't\n * exist.\n * @returns {object} Tab preference object.\n */\nexport function getTabPref() {\n    return JSON.parse(window.localStorage.getItem('tabPref')) || {};\n}\n\n/**\n * Sets the tabPref object depending on whether the tab belongs\n * to set (e.g., \"drivers\") or if it's a one-off page.\n\n * @param {object} pref The \"tabId\" and \"type\" (tab set)\n * @param {boolean} anonymous Whether or not the tab being configured is anonymous.\n * @returns {void}\n */\nexport function setTabPref(pref, anonymous) {\n    const tabPref = getTabPref();\n\n    if (anonymous) {\n        if (!tabPref.pages) {\n            tabPref.pages = {};\n        }\n\n        tabPref.pages[window.location.pathname] = pref.tabId;\n    } else {\n        // Set top-level fields for tab set preferences\n        tabPref[pref.type] = pref.tabId;\n    }\n\n    // Write pref object back to localStorage\n    window.localStorage.setItem('tabPref', JSON.stringify(tabPref));\n}\n\nlet tabSets = {};\nclass TabSet {\n    constructor(tabType, anonymous, tabStripElements, tabContents) {\n        this.type = tabType;\n        this.tabStrips = tabStripElements;\n        this.tabContents = tabContents;\n        this.anonymous = anonymous;\n\n        // A set of all tabIds contained within this TabSet.\n        this.tabIds = {};\n    }\n\n    /**\n     * Return the first singleton tab ID on the page.\n     * @returns {string} The first singleton tab ID found.\n     */\n    getFirstTabId() {\n        const tabsElement = this.tabStrips[0].\n            querySelector('.tab-strip__element[aria-selected=true]');\n        if (!tabsElement) { return null; }\n\n        return tabsElement.getAttribute('data-tabid');\n    }\n\n    setup() {\n        if (this.tabStrips.length === 0) { return; }\n\n        hideTabBars();\n\n        for (const tabStrip of this.tabStrips) {\n            for (const element of tabStrip.querySelectorAll('[data-tabid]')) {\n                this.tabIds[element.getAttribute('data-tabid')] = true;\n\n                element.onclick = (e) => {\n                    // Get the initial position of the tab clicked\n                    // to avoid page jumping after new tab is selected\n                    const initRect = element.getBoundingClientRect();\n\n                    // Get the position where the user scrolled to\n                    const initScrollY = window.scrollY;\n\n                    // Calc the distance from the tab strip to the top\n                    // of whatever the user has scrolled to\n                    const offset = initScrollY - initRect.y;\n\n                    // Get the tab ID of the clicked tab\n                    const tabId = e.target.getAttribute('data-tabid');\n\n                    // Build the pref object to set\n                    const pref = {};\n                    pref.tabId = tabId;\n                    pref.type = this.type;\n\n                    // Check to make sure value is not null, i.e., don't do anything on \"other\"\n                    if (tabId) {\n                        // Save the users preference and re-render\n                        this.update(tabId, true);\n\n                        // Get the position of tab strip after re-render\n                        const rects = element.getBoundingClientRect();\n\n                        // Reset the scroll position of the browser\n                        window.scrollTo(rects.x, rects.y + offset);\n\n                        reportAnalytics('Tab Selected', {\n                            'tabId': tabId,\n                            'title': e.target.innerText,\n                            'tabSet': this.type\n                        });\n\n                        e.preventDefault();\n                    }\n                };\n            }\n        }\n\n        this.update(null, false);\n    }\n\n    update(tabId, isUserAction) {\n        if (this.tabStrips.length === 0) { return; }\n\n        if (!tabId) {\n            const tabPref = getTabPref();\n            if (this.anonymous && tabPref.pages && tabPref.pages[window.location.pathname]) {\n                // Check if current page has a one-off page specific pref\n                tabId = tabPref.pages[window.location.pathname];\n            } else if (tabPref[this.type]) {\n                tabId = tabPref[this.type];\n            }\n        }\n\n        if (!tabId || !this.tabIds[tabId]) {\n            tabId = this.getFirstTabId();\n\n            if (!tabId) { return; }\n        }\n\n        // Show the appropriate tab content and mark the tab as active\n        tabsEventDispatcher.dispatch({\n            'isUserAction': isUserAction,\n            'tabId': tabId,\n            'type': this.type\n        });\n    }\n\n    /**\n     * Marks the selected tab as active, handles special cases for the dropdown\n     * @param {string} currentAttrValue The currently selected tab ID.\n     * @returns {void}\n     */\n    showHideSelectedTab(currentAttrValue) {\n        for (const tabStrip of this.tabStrips) {\n            // Get the <a>, <li> and <ul> of the selected tab\n            const tabLink = $(tabStrip.querySelector(`[data-tabid=\"${currentAttrValue}\"]`));\n            if (!tabLink.length) {\n                continue;\n            }\n\n            const tabList = tabLink.parent('ul');\n\n            // Get the dropdown <a> and <li> for active and label management\n            const dropdownLink = $(tabStrip.querySelector('.dropdown-toggle'));\n            const dropdownListItem = $(tabStrip.querySelector('.dropdown'));\n\n            // Set the active tab, if it's on the dropdown set it to active and change label\n            if (tabList.hasClass('dropdown-menu')) {\n                // Use first so text doesn't repeat if more than one set of tabs\n                dropdownLink.text(`${tabLink.first().text()}`).append('<span class=\"caret\"></span>');\n                dropdownListItem.\n                    attr('aria-selected', true).\n                    siblings().\n                    attr('aria-selected', false);\n            } else {\n                // Set a non-dropdown tab to active, and change the dropdown label back to \"Other\"\n                tabLink.\n                    attr('aria-selected', true).\n                    siblings().\n                    attr('aria-selected', false);\n                dropdownLink.text('Other ').append('<span class=\"caret\"></span>');\n            }\n        }\n\n        const className = `tabpanel-${currentAttrValue}`;\n        for (const contentElement of this.tabContents) {\n            for (const childElement of contentElement.children) {\n                if (childElement.classList.contains(className)) {\n                    childElement.style.display = 'block';\n                } else {\n                    childElement.style.display = 'none';\n                }\n            }\n        }\n    }\n\n    static register(tabElement) {\n        const tabStripElements = toArray(tabElement.getElementsByClassName('tab-strip--singleton'));\n        const tabContent = tabElement.querySelector('.tabs__content');\n        let tabType = tabElement.getAttribute('data-tab-preference');\n        let anonymous = false;\n\n        // If there is no specified tab type, use the first tab's ID\n        if (!tabType) {\n            const firstTabidElement = tabElement.querySelector('[data-tabid]');\n            if (!firstTabidElement) { return; }\n\n            tabType = `anonymous-${firstTabidElement.getAttribute('data-tabid')}`;\n            anonymous = true;\n        }\n\n        if (tabSets[tabType]) {\n            const tabSet = tabSets[tabType];\n            tabSet.tabStrips = tabSet.tabStrips.concat(tabStripElements);\n            tabSet.tabContents.push(tabContent);\n            return;\n        }\n\n        const tabSet = new TabSet(tabType, anonymous, tabStripElements, [tabContent], false);\n        tabSets[tabType] = tabSet;\n    }\n}\n\n// Listen for state changes necessitating a redraw\ntabsEventDispatcher.listen((ctx) => {\n    const tabSet = tabSets[ctx.type];\n    if (tabSet) {\n        // Only save our new preference if we are responding to user input.\n        if (ctx.isUserAction) {\n            setTabPref(ctx, tabSet.anonymous);\n        }\n\n        tabSet.showHideSelectedTab(ctx.tabId);\n    }\n});\n\n// Create tab functionality for code examples\nexport function setup() {\n    tabSets = {};\n\n    const tabsElements = document.getElementsByClassName('tabs');\n    for (let i = 0; i < tabsElements.length; i += 1) {\n        TabSet.register(tabsElements[i]);\n    }\n\n    for (const tabType of Object.keys(tabSets)) {\n        tabSets[tabType].setup();\n    }\n}\n","import {setTabPref, tabsEventDispatcher} from './componentTabs';\nimport {throttle} from './util';\n\nconst headings = [];\n\nfunction recalculate() {\n    const height = document.body.clientHeight - window.innerHeight;\n\n    // This is a bit hacky, but it mostly works. Choose our current\n    // position in the page as a decimal in the range [0, 1], adding\n    // our window size multiplied by 80% of the unadjusted [0, 1]\n    // position.\n    // The 80% is necessary because the last sections of a guide tend to\n    // be shorter, and we need to make sure that scrolling to the bottom\n    // highlights the last section.\n    let currentPosition = document.documentElement.scrollTop / height;\n    currentPosition = (document.documentElement.scrollTop +\n        (currentPosition * 0.8 * window.innerHeight)) / height;\n\n    let bestMatch = [Infinity, null];\n\n    for (const [headingElement, tocElement] of headings) {\n        tocElement.classList.remove('active');\n\n        const headingPosition = headingElement.offsetTop / height;\n        const delta = Math.abs(headingPosition - currentPosition);\n        if (delta <= bestMatch[0]) {\n            bestMatch = [delta, tocElement];\n        }\n    }\n\n    if (bestMatch[1]) {\n        bestMatch[1].classList.add('active');\n    }\n}\n\ndocument.addEventListener('scroll', throttle(recalculate, 150));\n\nfunction setupScrollMonitor() {\n    const leftToc = document.querySelector('.left-toc');\n    if (!leftToc) { return; }\n\n    headings.length = 0;\n    for (const linkElement of leftToc.querySelectorAll('a')) {\n        const id = linkElement.getAttribute('href').slice(1);\n        if (!id) { continue; }\n\n        const headingElement = document.getElementById(id);\n        if (!headingElement) { continue; }\n\n        headings.push([headingElement, linkElement.parentElement]);\n    }\n\n    recalculate();\n}\n\nfunction pillClickHandler(ev) {\n    const tabId = ev.target.getAttribute('data-tab-preference');\n    if (!tabId) { return; }\n\n    setTabPref({\n        'tabId': tabId,\n        'type': 'languages'\n    }, false);\n}\n\nfunction setupLandingPage() {\n    const guidesCategoryListElement = document.getElementsByClassName('guide-category-list')[0];\n    if (!guidesCategoryListElement) { return; }\n\n    const pills = guidesCategoryListElement.getElementsByClassName('guide__pill');\n    for (let i = 0; i < pills.length; i += 1) {\n        pills[i].onclick = pillClickHandler;\n    }\n}\n\n// Guides show the current language in the tab preferences header. Update\n// that if necessary.\nconst showCurrentLanguageElements = document.getElementsByClassName('show-current-language');\ntabsEventDispatcher.listen((ctx) => {\n    if (ctx.type !== 'languages') { return; }\n\n    for (let i = 0; i < showCurrentLanguageElements.length; i += 1) {\n        showCurrentLanguageElements[i].innerText = ctx.tabId;\n    }\n});\n\nexport function setup() {\n    setupScrollMonitor();\n    setupLandingPage();\n}\n","const CLASS_ACTIVATED = 'lightbox__content--activated';\nconst CLASS_SCALABLE = 'lightbox__content--scalable';\n\nconst modal = document.createElement('div');\nmodal.className = 'lightbox__modal';\nmodal.title = 'click to close';\nconst modalContent = document.createElement('img');\nmodalContent.className = 'lightbox__content';\nmodal.appendChild(modalContent);\n\nfunction closeLightbox(ev) {\n    if (ev.type === 'keydown' && ev.key !== 'Escape') {\n        return;\n    }\n\n    modalContent.classList.remove(CLASS_ACTIVATED);\n    if (!modal.parentNode) {\n        return;\n    }\n\n    modal.parentNode.removeChild(modal);\n}\n\n// Wrap an image in a lightbox\nfunction wrapImage(img) {\n    const wrapperElement = document.createElement('div');\n    const captionElement = document.createElement('div');\n\n    wrapperElement.className = 'lightbox__imageWrapper';\n    captionElement.className = 'lightbox__caption';\n    captionElement.innerText = 'click to enlarge';\n\n    img.parentNode.replaceChild(wrapperElement, img);\n    wrapperElement.appendChild(img);\n    wrapperElement.appendChild(captionElement);\n\n    wrapperElement.addEventListener('click', () => {\n        document.body.appendChild(modal);\n        modalContent.src = img.src;\n        modalContent.alt = `${img.alt}  Enlarged`;\n\n        if ((/\\.svg$/).test(modalContent.src)) {\n            modalContent.classList.add(CLASS_SCALABLE);\n        } else {\n            modalContent.classList.remove(CLASS_SCALABLE);\n        }\n\n        modal.addEventListener('click', closeLightbox);\n\n        // Wait until the next DOM tick to make the fade animation work\n        setTimeout(() => {\n            modalContent.classList.add(CLASS_ACTIVATED);\n        }, 0);\n    });\n}\n\n// Intelligently wrap a figure in a lightbox if its natural area is >10%\n// larger than displayed.\nfunction wrapIfNeeded(figure, img) {\n    const naturalArea = img.naturalWidth * img.naturalHeight;\n    const clientArea = img.clientWidth * img.clientHeight;\n    if (clientArea < (naturalArea * 0.9)) {\n        wrapImage(img);\n        figure.classList.add('lightbox');\n    }\n}\n\nexport function setup() {\n    for (const figure of document.getElementsByClassName('lightbox')) {\n        if (figure.children.length === 0 || figure.children[0].tagName !== 'IMG') {\n            continue;\n        }\n\n        wrapImage(figure.children[0]);\n    }\n\n    // Now look at all non-explicitly-lightbox figures to see if they need\n    // the same treatment.\n    for (const figure of document.getElementsByClassName('figure')) {\n        if (figure.children.length === 0 ||\n            figure.children[0].tagName !== 'IMG' ||\n            figure.classList.contains('lightbox')) {\n            continue;\n        }\n\n        const img = figure.children[0];\n\n        if (img.complete) {\n            wrapIfNeeded(figure, img);\n        } else {\n            img.addEventListener('load', wrapIfNeeded.bind(null, figure, img));\n        }\n    }\n\n    // Register our escape handler. This is idempotent\n    document.addEventListener('keydown', closeLightbox);\n}\n","const COLLAPSED_PROPERTY = 'apiref-resource--collapsed';\n\n// We want to let users select a path without toggling the resource's\n// stage (open vs. collapsed). Only consider an event a click if the cursor\n// moved less than 50 pixels in either direction before the button is lifted.\nfunction createClickButNotSelectionHandler(element, onclick) {\n    let dragStart = null;\n\n    element.addEventListener('mousedown', (ev) => {\n        if (ev.button !== 0) { return; }\n        dragStart = ev;\n    });\n\n    element.addEventListener('mouseup', (ev) => {\n        if (ev.button !== 0) { return; }\n        const formerDragStart = dragStart;\n        dragStart = null;\n\n        if (!formerDragStart || (\n            Math.abs(ev.clientX - formerDragStart.clientX) < 50 &&\n            Math.abs(ev.clientY - formerDragStart.clientY) < 50)) {\n            onclick();\n        }\n    });\n}\n\nfunction toggleResource(classListAction, resourceElement) {\n    if (resourceElement.id) {\n        const hash = `#${resourceElement.id}`;\n        window.history.pushState({'href': hash}, '', hash);\n    }\n\n    resourceElement.classList[classListAction](COLLAPSED_PROPERTY);\n}\n\nfunction expand() {\n    const hash = document.location.hash.slice(1);\n    if (!hash) { return; }\n    const requested = document.getElementById(hash);\n    if (!requested) { return; }\n    if (!requested.classList.contains('apiref-resource')) { return; }\n    toggleResource('remove', requested);\n}\n\nwindow.addEventListener('hashchange', expand, false);\n\nexport function setup() {\n    const resourceHeaderElements = document.getElementsByClassName('apiref-resource__header');\n    for (let i = 0; i < resourceHeaderElements.length; i += 1) {\n        const element = resourceHeaderElements[i];\n        createClickButNotSelectionHandler(element,\n            toggleResource.bind(null, 'toggle', element.parentElement));\n    }\n\n    expand();\n}\n","import {reportAnalytics, toArray} from './util';\nimport {tabsEventDispatcher} from './componentTabs';\n\nfunction pillClickHandler(tabType, ev) {\n    const tabId = ev.target.getAttribute('data-tabid');\n    tabsEventDispatcher.dispatch({\n        'isUserAction': true,\n        'tabId': tabId,\n        'type': tabType\n    });\n\n    reportAnalytics('Pill Selected', {\n        'tabId': tabId,\n        'title': ev.target.innerText,\n        'pillSet': tabType\n    });\n}\n\nlet tabTypes = {};\ntabsEventDispatcher.listen((ctx) => {\n    for (const pillStripElement of tabTypes[ctx.type] || []) {\n        const elements = pillStripElement.getElementsByClassName('guide__pill');\n        for (let i = 0; i < elements.length; i += 1) {\n            const element = elements[i];\n            if (element.getAttribute('data-tabid') === ctx.tabId) {\n                elements[i].classList.add('guide__pill--active');\n            } else {\n                elements[i].classList.remove('guide__pill--active');\n            }\n        }\n    }\n});\n\nexport function setup() {\n    tabTypes = {};\n    for (const pillStripElement of document.querySelectorAll('.pillstrip-declaration')) {\n        const tabsType = pillStripElement.getAttribute('data-tab-preference');\n        if (!tabsType) { continue; }\n\n        if (tabTypes[tabsType] === undefined) { tabTypes[tabsType] = []; }\n        tabTypes[tabsType].push(pillStripElement);\n    }\n\n    for (const tabsType of Object.keys(tabTypes)) {\n        const pillStripElements = tabTypes[tabsType];\n        const tabStrips = document.querySelectorAll(`.tabs[data-tab-preference=\"${tabsType}\"] > .tab-strip`);\n        const seenPills = {};\n        const pills = [];\n\n        for (const tabStripElement of tabStrips) {\n            tabStripElement.style.display = 'none';\n\n            let i = -1;\n            let childElements = toArray(\n                tabStripElement.querySelectorAll('.tab-strip__element[data-tabid]'));\n            childElements = childElements.concat(\n                toArray(\n                    tabStripElement.querySelectorAll('.tab-strip__dropdown > li')));\n            for (const childElement of childElements) {\n                i += 1;\n                const tabId = childElement.getAttribute('data-tabid');\n                if (seenPills[tabId] !== undefined) {\n                    continue;\n                }\n\n                seenPills[tabId] = true;\n                pills.splice(i, 0, [tabId, childElement.innerText]);\n            }\n        }\n\n        const clickHandler = pillClickHandler.bind(undefined, tabsType);\n        for (const strip of pillStripElements) {\n            for (const [tabId, tabTitle] of pills) {\n                const pill = document.createElement('li');\n                pill.className = 'guide__pill';\n                pill.setAttribute('data-tabid', tabId);\n                pill.innerText = tabTitle;\n                pill.onclick = clickHandler;\n                strip.appendChild(pill);\n            }\n        }\n    }\n}\n","import * as util from './util';\n\n/* currently open page */\nfunction isCurrentNode($node) {\n    return $node.hasClass('current');\n}\n\nexport function setup() {\n    let $current = $('.sidebar a.current');\n    if (util.isLeafNode($current) || util.requiresPageload($current) || isCurrentNode($current)) {\n        $current.parent('li').addClass('selected-item');\n    }\n    $current.parents('ul').each((index, el) => {\n        $(el).css('display', 'block');\n    });\n\n    $('.sphinxsidebarwrapper > ul li:not(.current) > ul:not(.current)').hide();\n    $('.sphinxsidebarwrapper').show();\n\n    /*\n     * This event handler defines the left-column navigation's behavior\n     * The logic conforms to how sphinx generates the markup\n     * The rules are:\n     *  $('a.current') is the title of the content that is currently rendered\n     *    (this should never be changed client-side)\n     *  $('ul.current, li.current') are the set of lists that are currently expanded\n     *  $('li.selected-item') is the currently highlighted item\n     */\n    $('.sphinxsidebarwrapper .toctree-l1').on('click', 'a', (e) => {\n        const $target = $(e.currentTarget);\n        if (util.isLeafNode($target)) {\n            // Do a full page reload on leaf nodes\n            return;\n        }\n\n        // Release notes has special behavior to click through\n        if (!$target.parent().hasClass('selected-item') && util.requiresPageload($target)) {\n            return;\n        }\n\n        e.preventDefault();\n\n        if ($target.parent().hasClass('current')) {\n            // collapse target node\n            $target.parent().removeClass('current selected-item');\n            $target.siblings('ul').slideUp();\n        } else {\n\n            $current.parent().removeClass('selected-item');\n            // roll up all navigation up to the common ancestor\n            $current.parents().\n                add($current.siblings('ul')).\n                each((index, el) => {\n                    const $el = $(el);\n                    if ($el.has(e.currentTarget).length) {\n                        return;\n                    }\n\n                    if ($el.is('ul')) {\n                        $el.removeClass('current').slideUp();\n                    } else {\n                        $el.removeClass('current');\n                    }\n                });\n            // add css classes for the new 'current' nav item\n            $target.parent().addClass('current');\n            $target.siblings('ul').slideDown(() => {\n                if (util.isLeafNode($target) ||\n                    util.requiresPageload($target) ||\n                    isCurrentNode($current)) {\n                    $target.parent('li').addClass('selected-item');\n                }\n            });\n            // set new $current\n            $current = $target;\n        }\n    });\n\n    /* Add expand icons to indicate what's expandable and what's a link. This\n       is necessary when (1) we're at a leaf node, or (2) the menu triggers\n       a page load. */\n    $('.sphinxsidebarwrapper > ul ul a.reference').prepend(function(index) {\n        const expandElement = $('<span class=\"expand-icon\"></span>');\n        const self = $(this);\n\n        if (!util.isLeafNode(self)) {\n            expandElement.addClass('docs-expand-arrow');\n        }\n\n        return expandElement;\n    });\n}\n","const SAMPLE_FACTORS = {\n    'charts': 0.12158,\n    'guides': 0.02644,\n    'stitch': 0.03162,\n    'docs-ruby': 0.47984,\n    'ecosystem': 0.00997,\n    'docs-php-library': 0.04165,\n    'atlas': 0.01176,\n    'compass': 0.01684,\n    'manual': 0.00022,\n    'landing': 0.00806,\n    'mongoid': 0.07576,\n    'mms-cloud': 0.06358,\n    'mms-onprem': 0.01790,\n    'bi-connector': 0.03912,\n    'spark-connector': 0.05562\n};\n\nexport function initialize() {\n    /* eslint-disable */\n\n    // Delighted\n    !function(e,t,r,n,a){if(!e[a]){for(var i=e[a]=[],s=0;s<r.length;s++){var c=r[s];i[c]=i[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);i.push([e,t])}}(c)}i.SNIPPET_VERSION=\"1.0.1\";var o=t.createElement(\"script\");o.type=\"text/javascript\",o.async=!0,o.src=\"https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/\"+n+\"/\"+a+\".js\";var l=t.getElementsByTagName(\"script\")[0];l.parentNode.insertBefore(o,l)}}(window,document,[\"survey\",\"reset\",\"config\",\"init\",\"set\",\"get\",\"event\",\"identify\",\"track\",\"page\",\"screen\",\"group\",\"alias\"],\"Dk30CC86ba0nATlK\",\"delighted\");\n\n    // Segment\n    !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error(\"Segment snippet included twice.\");else{analytics.invoked=!0;analytics.methods=[\"trackSubmit\",\"trackClick\",\"trackLink\",\"trackForm\",\"pageview\",\"identify\",\"reset\",\"group\",\"track\",\"ready\",\"alias\",\"debug\",\"page\",\"once\",\"off\",\"on\"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement(\"script\");n.type=\"text/javascript\";n.async=!0;n.src=\"https://cdn.segment.com/analytics.js/v1/\"+t+\"/analytics.min.js\";var a=document.getElementsByTagName(\"script\")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION=\"4.1.0\";\n        analytics.load(\"aGhVvyxnPWlyP71vVl9ZjGWxAtoVGLXX\");\n    }}();\n}\n\nexport function setup(fastNav) {\n    const project = document.body.getAttribute('data-project');\n    const branch = document.body.getAttribute('data-branch');\n\n    try {\n        const sampleFactor = SAMPLE_FACTORS[project] || 0.1;\n        window.delighted.survey({\n            minTimeOnPage: 180,\n            sampleFactor: sampleFactor,\n            properties: {\n              project,\n              branch,\n            }\n        });\n    } catch (err) {\n        console.error(err);\n    }\n\n    // Update Segment\n    try {\n        window.analytics.page({\n          path: location.pathname,\n          url: location.href,\n          project: project,\n          branch: branch\n        });\n    } catch (err) {\n        console.error(err);\n    }\n}\n","import {getTabPref, tabsEventDispatcher} from './componentTabs';\n\nconst STYLE_SELECTED = 'guide__deploymentpill--active';\nconst STYLE = 'guide__pill';\nconst STYLE_DEPLOY = 'guide__deploymentpill';\nconst STYLE_DEPLOYTEXT = 'show-current-deployment';\n\n\nfunction setToggleState(id) {\n    const elements = document.getElementsByClassName(STYLE);\n    for (let i = 0; i < elements.length; i += 1) {\n        const element = elements[i];\n        if (element.getAttribute('data-tabid') === id) {\n            elements[i].classList.add(STYLE_SELECTED);\n        } else {\n            elements[i].classList.remove(STYLE_SELECTED);\n        }\n    }\n    if (document.getElementsByClassName(STYLE_DEPLOYTEXT).length > 0) {\n        document.getElementsByClassName(STYLE_DEPLOYTEXT)[0].innerHTML = id;\n    }\n}\n\ntabsEventDispatcher.listen((ctx) => {\n    if (ctx.type === 'cloud') {\n        setToggleState(ctx.tabId);\n    }\n});\n\nfunction dispatchState(cloudState) {\n    tabsEventDispatcher.dispatch({\n        'isUserAction': true,\n        'tabId': cloudState,\n        'type': 'cloud'\n    });\n}\n\nfunction addListenersToPills(element) {\n    element.addEventListener('click', (event) => {\n        tabsEventDispatcher.dispatch({\n            'isUserAction': true,\n            'tabId': event.target.innerHTML,\n            'type': 'cloud'\n        });\n    });\n}\n\nfunction getTabNode(nodeName, pref) {\n    const element = document.createElement('li');\n    element.classList.add(STYLE);\n    element.classList.add(STYLE_DEPLOY);\n    element.setAttribute('data-tabid', nodeName);\n    element.innerHTML = nodeName;\n    addListenersToPills(element);\n    setToggleState(nodeName);\n    return element;\n}\n\nexport function setup() {\n    // we use a sort of reflection to figure out if this needs to display\n\n    const parent = document.getElementsByClassName('guide-prefs__deploy')[0];\n    if (parent === undefined) {\n        return;\n    }\n    if (document.getElementsByClassName('tabpanel-cloud').length === 0 &&\n        document.getElementsByClassName('guide-prefs__deploy').length > 0) {\n        document.getElementsByClassName('guide-prefs__deploy')[0].style.display = 'none';\n        return;\n    }\n    const tabPrefs = getTabPref();\n    if (tabPrefs.cloud === undefined) {\n        tabPrefs.cloud = 'local';\n    }\n    // setToggleState(tabPrefs.cloud);\n    const list = document.createElement('ul');\n    list.classList.add('guide__pills');\n    list.classList.add('pillstrip-declaration');\n    list.setAttribute('role', 'tablist');\n    list.setAttribute('data-tab-preference', 'cloud');\n    list.appendChild(getTabNode('cloud', tabPrefs.cloud));\n    list.appendChild(getTabNode('local', tabPrefs.cloud));\n    parent.appendChild(list);\n    setToggleState(tabPrefs.cloud);\n    dispatchState(tabPrefs.cloud);\n}\n","import {tabsEventDispatcher} from './componentTabs';\n\nconst LOCALSTORAGE_KEY_LOCAL = 'uriwriter_local';\nconst LOCALSTORAGE_KEY_ATLAS = 'uriwriter_atlas';\nconst LOCALSTORAGE_KEY_CURRENT_STATE = 'uriwriter_currentstate';\n\nconst TEMPLATE_TYPE_SELF_MANAGED = 'local MongoDB';\nconst TEMPLATE_TYPE_REPLICA_SET = 'local MongoDB with replica set';\nconst TEMPLATE_TYPE_ATLAS_36 = 'Atlas (Cloud) v. 3.6';\nconst TEMPLATE_TYPE_ATLAS_34 = 'Atlas (Cloud) v. 3.4';\nconst TEMPLATE_TYPE_ATLAS = 'Atlas (Cloud)';\n\nconst TEMPLATES = {\n    [TEMPLATE_TYPE_SELF_MANAGED]: {\n        'options': [\n            {\n                'name': 'authSource',\n                'type': 'text'\n            }\n        ],\n        'template': 'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n        'templatePasswordRedactedShell': 'mongodb://$[hostlist]/$[database]?$[options] --username $[username]',\n        'templateShell': 'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]'\n    },\n    [TEMPLATE_TYPE_REPLICA_SET]: {\n        'options': [\n            {\n                'name': 'replicaSet',\n                'type': 'text'\n            },\n            {\n                'name': 'authSource',\n                'type': 'text'\n            },\n            {\n                'name': 'ssl',\n                'type': 'pass-through',\n                'value': 'true'\n            }\n        ],\n        'template': 'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n        'templatePasswordRedactedShell': 'mongodb://$[hostlist]/$[database]?$[options] --username $[username] --password',\n        'templateShell': 'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]'\n    },\n    [TEMPLATE_TYPE_ATLAS_36]: {\n        'options': [],\n        'template': 'mongodb+srv://$[username]:$[password]@$[hostlist]/$[database]?retryWrites=true',\n        'templatePasswordRedactedShell': 'mongodb+srv://$[hostlist]/$[database] --username $[username] --password',\n        'templateShell': 'mongodb+srv://$[username]:$[password]@$[hostlist]/$[database]'\n    },\n    [TEMPLATE_TYPE_ATLAS_34]: {\n        'options': [\n            {\n                'name': 'replicaSet',\n                'type': 'text'\n            },\n            {\n                'name': 'authSource',\n                'type': 'text'\n            },\n            {\n                'name': 'ssl',\n                'type': 'pass-through',\n                'value': 'true'\n            }\n        ],\n        'template': 'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n        'templatePasswordRedactedShell': 'mongodb://$[hostlist]/$[database]?replicaSet=$[replicaSet] --ssl --authenticationDatabase $[authSource] --username $[username] --password',\n        'templateShell': 'mongodb://$[hostlist]/$[database]?replicaSet=$[replicaSet] --ssl --authenticationDatabase $[authSource] --username $[username] --password $[password]'\n    }\n};\n\nfunction getValue(value, option) {\n    if (option.type === 'pass-through') {\n        return option.value;\n    }\n\n    return value;\n}\n\nfunction getPrefix(uri) {\n    if ((uri.charAt(0) === '\\'') ||\n        (uri.charAt(0) === '\"')) {\n        return uri.charAt(0);\n    }\n    return '';\n}\n\nconst PLACEHOLDER_PATTERN =\n    /&lt;(?:(?:URISTRING(?:_(?:(?:SHELL_NOUSER)|(?:SHELL)))?)|(?:USERNAME))&gt;/g;\nfunction preparseUristrings() {\n    const elements = document.getElementsByTagName('pre');\n    for (let i = 0; i < elements.length; i += 1) {\n        elements[i].innerHTML = elements[i].innerHTML.replace(\n            PLACEHOLDER_PATTERN,\n            '<span class=\"uristring-element\">$&</span>');\n    }\n}\n\nfunction validateHost(host) {\n    const parsed = (/^\\s*([^:\\s]+)(?::(\\d+))?\\s*$/).exec(host);\n    if (!parsed) {\n        throw new Error('Invalid host format: must match the format \"hostname:port\"');\n    }\n\n    const port = parseInt(parsed[2], 10);\n    if (isNaN(port)) {\n        throw new Error('Missing port: host must match the format \"hostname:port\"');\n    }\n\n    if (port > 65535) {\n        throw new Error('Port number is too large');\n    }\n\n    return [parsed[1], port];\n}\n\nfunction conveyInvalidParse(statusElement) {\n    statusElement.classList.add('mongodb-form__status--invalid');\n    statusElement.classList.remove('mongodb-form__status--good');\n    statusElement.style.display = '';\n    statusElement.innerText = 'Connection string could not be parsed';\n    // do something? email?\n}\n\nfunction conveyValidParse(statusElement) {\n    statusElement.classList.add('mongodb-form__status--good');\n    statusElement.classList.remove('mongodb-form__status--invalid');\n    statusElement.style.display = '';\n    statusElement.innerText = 'Connection string parsed';\n}\n\nfunction splitOptions(tempWriter, arrayOfMatches) {\n    const settingsArray = arrayOfMatches.split('&');\n    if (settingsArray.length > 0) {\n        for (let i = 0; i < settingsArray.length; i += 1) {\n            const keyValue = settingsArray[i].split('=');\n            tempWriter[keyValue[0]] = keyValue[1];\n        }\n    }\n}\n\nclass HostList {\n    constructor(rootElement, uriWriter) {\n        this.root = rootElement;\n\n        this.uriWriter = uriWriter;\n        this.elementPairs = [];\n        this.updateHostsFromUriWriter();\n    }\n\n    get hosts() {\n        return this.elementPairs.map((pair) => pair[0].value.trim()).filter((host) => host);\n    }\n\n    get lastInput() {\n        return this.elementPairs[this.elementPairs.length - 1][0];\n    }\n\n    updateHostsFromUriWriter() {\n        this.elementPairs = [];\n        this.root.innerText = '';\n        const state = this.uriWriter.loadState(this.uriWriter.loadCurrentState());\n        for (const host of state.hostlist || []) {\n            this.addHost(host);\n        }\n\n        this.addHost();\n    }\n\n    addHost(host) {\n        const inputElement = document.createElement('input');\n        inputElement.className = 'mongodb-form__input';\n        inputElement.placeholder = 'localhost:27017';\n        inputElement.value = host || '';\n        const statusElement = document.createElement('div');\n        statusElement.className = 'mongodb-form__status';\n\n        inputElement.oninput = () => {\n            if (inputElement.value) {\n                if (this.lastInput === inputElement) {\n                    this.addHost();\n                }\n            } else if (this.lastInput !== inputElement) {\n                this.elementPairs = this.elementPairs.filter((x) => x[0] !== inputElement);\n                this.root.removeChild(inputElement);\n                this.root.removeChild(statusElement);\n\n                this.uriWriter.setHosts(this.hosts);\n                return;\n            }\n\n            try {\n                validateHost(inputElement.value);\n            } catch (err) {\n                inputElement.setCustomValidity(err.message);\n                statusElement.innerText = err.message;\n                statusElement.classList.add('mongodb-form__status--invalid');\n                return;\n            }\n\n            statusElement.innerText = '';\n            statusElement.classList.remove('mongodb-form__status--invalid');\n            inputElement.setCustomValidity('');\n\n            this.uriWriter.setHosts(this.hosts);\n        };\n\n        this.root.appendChild(inputElement);\n        this.root.appendChild(statusElement);\n        this.elementPairs.push([inputElement, statusElement]);\n    }\n}\n\nlet uriwriterSingleton = null;\nclass UriwriterSingleton {\n    constructor() {\n        // an array of DOM objects that care about changes to the URI\n        this.uristowrite = [];\n        this.usernamestowrite = [];\n        this.uristowritepasswordredactedshell = [];\n        this.uristowriteshell = [];\n        // this.uristringPasswordRedacted = 'mongodb://$[hostlist]/$[database]?$[options]';\n        this.urireplacestring = '';\n        this.options = {};\n\n        this.hostList = null;\n\n        // setup listeners on the page to changes in uri fields (view)\n        this.setupURIListeners();\n        // calculate and propagate the URI (controller)]\n        this.loadTemplateEnv();\n        this.renderURI();\n        this.registerDispatch();\n    }\n\n    loadTemplateEnv() {\n\n        if (this.loadState(this.loadCurrentState()).env === undefined) {\n            if (this.loadCurrentState() === 'local' ||\n                this.loadCurrentState() === 'undefined') {\n                this.saveState({'env': TEMPLATE_TYPE_SELF_MANAGED}, 'local');\n            } else {\n                this.saveState({'env': TEMPLATE_TYPE_ATLAS_36}, 'cloud');\n            }\n        }\n    }\n\n    // get stuff related to this component out of local storage\n    loadState(atlas) {\n        if (atlas === 'cloud') {\n            return JSON.parse(window.localStorage.getItem(LOCALSTORAGE_KEY_ATLAS)) || {};\n        }\n        return JSON.parse(window.localStorage.getItem(LOCALSTORAGE_KEY_LOCAL)) || {};\n    }\n\n    // put stuff related to this coponent in local storage, we only set\n    // the whole thing, not portions\n    saveState(state, atlas) {\n        if (atlas === 'cloud') {\n            window.localStorage.setItem(LOCALSTORAGE_KEY_ATLAS, JSON.stringify(state));\n        }\n        else {\n            window.localStorage.setItem(LOCALSTORAGE_KEY_LOCAL, JSON.stringify(state));\n        }\n    }\n\n    loadCurrentState() {\n        return window.localStorage.getItem(LOCALSTORAGE_KEY_CURRENT_STATE);\n    }\n\n    saveCurrentState(atlasState) {\n        window.localStorage.setItem(LOCALSTORAGE_KEY_CURRENT_STATE, atlasState);\n    }\n\n    // add or modify a value in our uriwriter in local storage.\n    addValue(key, value) {\n        const uriwriter = this.loadState(this.loadCurrentState());\n        if (key !== 'atlaspasteduri' && key !== 'env') {\n            delete uriwriter.atlaspasteduri;\n        }\n        uriwriter[key] = value;\n        this.saveState(uriwriter, this.loadCurrentState());\n    }\n\n    // setup view hooks to change when data or environment changes\n    setupURIListeners() {\n        preparseUristrings();\n        const list = document.getElementsByClassName('uristring-element');\n        for (let i = 0; i < list.length; i += 1) {\n            if (list[i].innerHTML.indexOf('&lt;URISTRING&gt;') > -1) {\n                this.uristowrite.push(list[i]);\n            }\n            if (list[i].innerHTML.indexOf('&lt;USERNAME&gt;') > -1) {\n                this.usernamestowrite.push(list[i]);\n            }\n            if (list[i].innerHTML.indexOf('&lt;URISTRING_SHELL&gt;') > -1) {\n                this.uristowriteshell.push(list[i]);\n            }\n            if (list[i].innerHTML.indexOf('&lt;URISTRING_SHELL_NOUSER&gt;') > -1) {\n                this.uristowritepasswordredactedshell.push(list[i]);\n            }\n        }\n    }\n\n    writeToPlaceholders() {\n        for (let i = 0; i < this.uristowrite.length; i += 1) {\n            const prefix = getPrefix(this.uristowrite[i].innerHTML);\n            this.uristowrite[i].innerHTML = `${prefix}${this.urireplacestring}${prefix}`;\n        }\n        for (let i = 0; i < this.uristowritepasswordredactedshell.length; i += 1) {\n            this.uristowritepasswordredactedshell[i].innerHTML =\n                this.urireplacestringPasswordRedactedShell;\n        }\n        for (let i = 0; i < this.uristowriteshell.length; i += 1) {\n            this.uristowriteshell[i].innerHTML = this.urireplacestringShell;\n        }\n        // node use case for separation of username out of uri for encoding\n        for (let i = 0; i < this.usernamestowrite.length; i += 1) {\n            this.usernamestowrite[i].innerHTML = this.username;\n        }\n    }\n\n    setEnvironment(env) {\n        const isAtlas = env.startsWith(TEMPLATE_TYPE_ATLAS);\n        if (isAtlas) {\n            this.saveCurrentState('cloud');\n        } else {\n            this.saveCurrentState('local');\n        }\n        const state = this.loadState(this.loadCurrentState());\n        const haveWidgetOnPage = Boolean(document.getElementById('uriwriter'));\n        if (isAtlas && haveWidgetOnPage) {\n            document.getElementsByClassName('atlascontrols__status')[0].style.display =\n                'none';\n\n            if (state.atlaspasteduri !== undefined) {\n                // move all of this to an encapsulating function;\n                this.parseIncomingAtlasString(state.atlaspasteduri);\n                this.renderURI();\n                this.populateForm();\n                return;\n            }\n        }\n\n        if ((state !== undefined &&\n            state.env !== undefined &&\n            state.env.startsWith(TEMPLATE_TYPE_ATLAS)) || isAtlas) {\n            // this.saveState({});\n\n            if (haveWidgetOnPage) {\n                this.hostList.updateHostsFromUriWriter();\n            }\n        }\n\n        this.addValue('env', env);\n        this.renderURI();\n\n        if (haveWidgetOnPage) {\n            this.populateForm();\n        }\n    }\n\n    toggleEnvironmentExternal(atlas) {\n        const element = document.getElementById('deployment_type');\n        if (atlas === 'cloud') {\n            element.style.display = 'none';\n        } else {\n            element.style.display = 'block';\n        }\n    }\n    // this is the listener that is triggered when an environment select happens\n    setupEnvironmentListeners() {\n        const elements = document.getElementsByClassName('uriwriter__toggle');\n        let initiallySelected = this.loadState(this.loadCurrentState()).env;\n        if (initiallySelected === TEMPLATE_TYPE_ATLAS_36 ||\n            initiallySelected === TEMPLATE_TYPE_ATLAS_34) {\n            initiallySelected = TEMPLATE_TYPE_ATLAS;\n        }\n\n        for (let i = 0; i < elements.length; i += 1) {\n            if (initiallySelected === elements[i].innerHTML) {\n                elements[i].classList.add('guide__pill--active');\n            }\n\n            elements[i].onclick = (event) => {\n                const element = event.target;\n\n                const parentChildren = element.parentElement.children;\n                for (let childIndex = 0; childIndex < parentChildren.length; childIndex += 1) {\n                    parentChildren[childIndex].classList.remove('guide__pill--active');\n                }\n\n                element.classList.add('guide__pill--active');\n                this.setEnvironment(element.innerHTML);\n            };\n        }\n    }\n\n    // controller for writing the uri out to the listening html\n    renderURI() {\n        // User is in Atlas placeholder mode, no template defined. Can't render a uri.\n        // or should we default?\n        if (this.loadState(this.loadCurrentState()).env === TEMPLATE_TYPE_ATLAS) {\n            this.addValue('env', TEMPLATE_TYPE_ATLAS_36);\n        }\n        // we have a basic idea of the environment, get the associated uri template\n        const template = TEMPLATES[this.loadState(this.loadCurrentState()).env];\n\n        if (!template) { return; }\n\n        // the placeholder uri string template\n        this.uristring = template.template;\n        // options are environment specific settings that need to go in the uri\n        this.options = template.options;\n        // no we do our replacing of template fields\n        this.urireplacestring = this.replaceString(this.uristring, '&');\n        // on the redacted one as well\n        this.urireplacestringShell = this.replaceString(template.templateShell, ',');\n        this.urireplacestringPasswordRedactedShell =\n            this.replaceString(template.templatePasswordRedactedShell, ',');\n        this.username = this.loadState(this.loadCurrentState()).username;\n        this.writeToPlaceholders();\n    }\n\n    optionStringifier(options, optionJoinCharacter) {\n        const parts = [];\n        const state = this.loadState(this.loadCurrentState());\n\n        for (let i = 0; i < this.options.length; i += 1) {\n            const option = this.options[i];\n            const name = option.name;\n            let value = getValue(state[name], option);\n            if (!value) {\n                if (option.placeholder) {\n                    value = option.placeholder;\n                } else {\n                    value = `$[${name}]`;\n                }\n            }\n            parts.push(`${name}=${value}`);\n        }\n\n        return parts.join(optionJoinCharacter);\n    }\n\n    replaceString(localUriString, optionJoinCharacter) {\n        const state = this.loadState(this.loadCurrentState());\n\n        // replace hardcoded plaments (why oh why do we do this????)\n        if (state.username) {\n            localUriString = localUriString.replace('$[username]', state.username);\n        }\n        if (state.database) {\n            localUriString = localUriString.replace('$[database]', state.database);\n        }\n        if (state.authSource) {\n            localUriString = localUriString.replace('$[authSource]', state.authSource);\n        }\n        if (state.replicaSet) {\n            localUriString = localUriString.replace('$[replicaSet]', state.replicaSet);\n        }\n\n        // replace options where they exist\n        const optionsString = this.optionStringifier(this.options, optionJoinCharacter);\n\n        if (optionsString.length > 0) {\n            localUriString = localUriString.replace('$[options]', optionsString);\n        }\n\n        // get our hosts and ports in\n        if (state.hostlist && state.hostlist.length > 0) {\n            localUriString = localUriString.replace('$[hostlist]', state.hostlist.join(','));\n        }\n\n        return localUriString;\n    }\n\n    renderOptions() {\n        const elements = document.getElementsByClassName('uriwriter__option-prompt');\n        while (elements.length > 0) {\n            elements[0].parentElement.removeChild(elements[0]);\n        }\n\n        if (this.options && this.options.length > 0) {\n            for (let i = 0; i < this.options.length; i += 1) {\n                if (this.options[i].type !== 'pass-through') {\n                    this.renderOption(this.options[i]);\n                }\n            }\n        }\n    }\n\n    renderOption(option) {\n        const optionElement = document.createElement('label');\n        optionElement.className = 'mongodb-form__prompt uriwriter__option-prompt';\n\n        const label = document.createElement('div');\n        label.className = 'mongodb-form__label';\n        label.innerText = option.name;\n\n        const inputElement = document.createElement('input');\n        inputElement.setAttribute('id', option.name);\n        if (option.placeholder) {\n            inputElement.setAttribute('placeholder', option.placeholder);\n        }\n        inputElement.className = 'mongodb-form__input';\n        if (this.loadState(this.loadCurrentState())[option.name] !== undefined) {\n            inputElement.value = this.loadState(this.loadCurrentState())[option.name];\n        }\n        inputElement.addEventListener('input', (event) => {\n            this.addValue(option.name, document.getElementById(option.name).value);\n            this.renderURI();\n        });\n\n        optionElement.appendChild(label);\n        optionElement.appendChild(inputElement);\n\n        const serverPromptElement = document.querySelector('[data-server-configuration]');\n        serverPromptElement.parentElement.insertBefore(optionElement, serverPromptElement);\n    }\n\n    initializeWidget() {\n        if (!document.getElementById('uriwriter')) {\n            return;\n        }\n\n        this.hostList = new HostList(document.getElementById('hostlist'), this);\n\n        document.getElementById('uriwriter_username').addEventListener('input', (event) => {\n            this.addValue('username', event.target.value);\n            this.renderURI();\n        });\n\n        const atlaspaste = document.getElementById('uriwriter_atlaspaste');\n        const statusElement = document.getElementsByClassName('atlascontrols__status')[0];\n\n        atlaspaste.oninput = (event) => {\n            const pastedValue = atlaspaste.value;\n            if (!pastedValue.trim()) {\n                statusElement.style.display = 'none';\n                atlaspaste.setCustomValidity('');\n                return;\n            }\n\n            if (!this.parseIncomingAtlasString(pastedValue)) {\n                atlaspaste.setCustomValidity('Failed to parse');\n                conveyInvalidParse(statusElement);\n            } else {\n                atlaspaste.setCustomValidity('');\n                this.addValue('atlaspasteduri', pastedValue);\n                conveyValidParse(statusElement);\n                this.renderURI();\n                this.populateForm();\n            }\n        };\n\n        document.getElementById('uriwriter_db').addEventListener('input', (event) => {\n            this.addValue('database', document.getElementById('uriwriter_db').value);\n            this.renderURI();\n        });\n        this.setupEnvironmentListeners();\n        this.populateForm();\n    }\n\n    renderFormValues() {\n        const state = this.loadState(this.loadCurrentState());\n        const atlasControlsElement = document.getElementsByClassName('uriwriter__atlascontrols')[0];\n        if (state.env === TEMPLATE_TYPE_SELF_MANAGED || state.env === TEMPLATE_TYPE_REPLICA_SET) {\n            atlasControlsElement.style.display = 'none';\n            document.getElementById('userinfo_form').style.display = '';\n        } else {\n            document.getElementById('uriwriter_atlaspaste').value = state.atlaspasteduri || '';\n\n            if (state.atlaspasteduri !== undefined) {\n                atlasControlsElement.style.display = '';\n            } else {\n                atlasControlsElement.style.display = 'none';\n            }\n\n            document.getElementById('userinfo_form').style.display = 'none';\n            atlasControlsElement.style.display = '';\n            return;\n        }\n        if (state.username !== undefined) {\n            document.getElementById('uriwriter_username').value = state.username;\n        }\n        if (state.database !== undefined) {\n            document.getElementById('uriwriter_db').value = state.database;\n        }\n    }\n\n    /** IP related functions **/\n\n    setHosts(hostlist) {\n        const uriwriter = this.loadState(this.loadCurrentState());\n        uriwriter.hostlist = hostlist;\n        this.saveState(uriwriter, this.loadCurrentState());\n        this.renderURI();\n    }\n\n    populateForm() {\n        this.toggleEnvironmentExternal(this.loadCurrentState());\n        this.renderOptions();\n        this.renderFormValues();\n        this.hostList = new HostList(document.getElementById('hostlist'), this);\n    }\n\n    registerDispatch() {\n        tabsEventDispatcher.listen((ctx) => {\n            if (!uriwriterSingleton) { return; }\n            this.renderURI();\n            if (ctx.type !== 'cloud') { return; }\n            // tricky: we only want to change the pill state on toggle\n            if (ctx.tabId === 'cloud') {\n                if (this.loadCurrentState() === 'cloud') { return; }\n                this.saveCurrentState('cloud');\n                this.loadTemplateEnv();\n                this.renderURI();\n                // this.toggleEnvironmentExternal('cloud');\n            } else {\n                if (this.loadCurrentState() === 'local') { return; }\n                this.saveCurrentState('local');\n                this.loadTemplateEnv();\n                this.renderURI();\n                // this.toggleEnvironmentExternal('local');\n            }\n            const haveWidgetOnPage = Boolean(document.getElementById('uriwriter'));\n            if (haveWidgetOnPage) {\n                this.populateForm();\n            }\n        });\n    }\n\n\n    /** Atlas copy paste parse and processing **/\n\n    parseOutShellParams(splitOnSpace, tempWriter) {\n        // go through all of the command line args, parse\n        for (let i = 0; i < splitOnSpace.length; i += 1) {\n            if (splitOnSpace[i].startsWith('--')) {\n                // this is a key, if next val does not begin with --, its a value\n                if (!splitOnSpace[i + 1].startsWith('--')) {\n                    let splitKey = splitOnSpace[i].replace('--', '');\n                    let splitValue = splitOnSpace[i + 1];\n\n                    if (splitKey === 'authenticationDatabase') {\n                        splitKey = 'authSource';\n                    }\n\n                    // sometimes the next string is another parameter,\n                    // ignore those as they are canned\n                    if (!splitValue.startsWith('--')) {\n                        // get rid of brackets which can cause problems with our inline code\n                        splitValue = splitValue.replace('<', '').replace('>', '');\n                        tempWriter[splitKey] = splitValue;\n                    }\n                }\n            }\n        }\n    }\n\n    parseOutURIParams(shellString, tempWriter) {\n        const uriParamArray = shellString.split('&');\n        for (let i = 0; i < uriParamArray.length; i += 1) {\n            const keyValueString = uriParamArray[i];\n            const keyValueArray = keyValueString.split('=');\n            tempWriter[keyValueArray[0]] = keyValueArray[1];\n        }\n    }\n\n    parseOutEnvAndClusters(splitOnSpaceClusterEnv, tempWriter) {\n        // depending on whether this is 3.6 or 3.4 the cluster info looks slightly different\n        // 3.4 uses the URI to pass in a replica set name\n        let shellMatch = /(\\w+):\\/\\/((\\S+)(:)+(\\S+))\\/(\\w+)?\\?(\\S+)/;\n        const shellMatch36 = /((\\w+)\\+(\\w+)):\\/\\/((\\S+))\\/(\\w+)/;\n        if (splitOnSpaceClusterEnv.startsWith('mongodb+srv')) {\n            shellMatch = shellMatch36;\n        }\n        const shellArray = splitOnSpaceClusterEnv.match(shellMatch);\n        // add length check here?\n        if (shellArray[1] === 'mongodb') {\n            tempWriter.env = TEMPLATE_TYPE_ATLAS_34;\n            const hostListString = shellArray[2];\n            tempWriter.hostlist = hostListString.split(',');\n            this.parseOutURIParams(shellArray[7], tempWriter);\n        } else {\n            tempWriter.env = TEMPLATE_TYPE_ATLAS_36;\n            tempWriter.hostlist = [shellArray[4]];\n        }\n        tempWriter.database = shellArray[6];\n    }\n    // mongo \"mongodb://cluster0-shard-00-00-igkvv.mongodb.net:27017,cluster0-shard-00-01-igkvv.mongodb.net:27017,cluster0-shard-00-02-igkvv.mongodb.net:27017/test?replicaSet=Cluster0-shard-0\" --ssl --authenticationDatabase admin --username mongodb-stitch-easy_bake_oven-aluyj --password <PASSWORD>\n    // mongo \"mongodb+srv://cluster0-igkvv.mongodb.net/test\" --username mongodb-stitch-easy_bake_oven-aluyj\n    parseShell(atlasString, tempWriter) {\n        // split out the mongo and parse the rest\n        const splitOnSpace = atlasString.split(' ');\n        let splitOnSpaceClusterEnv = splitOnSpace[1];\n        // get rid of double quotes\n        splitOnSpaceClusterEnv = splitOnSpaceClusterEnv.replace(/\"/g, '');\n        // get command line args\n        this.parseOutShellParams(splitOnSpace, tempWriter);\n        // get the cluster information\n        this.parseOutEnvAndClusters(splitOnSpaceClusterEnv, tempWriter);\n\n        this.saveState(tempWriter, 'cloud');\n\n        // we need to define success\n        return true;\n    }\n\n    // get the pasted string and parse it out\n    parseIncomingAtlasString(pastedValue) {\n        if (pastedValue === undefined) {\n            return false;\n        }\n        // trim any carriage return line feed business\n        pastedValue = pastedValue.replace(/[\\n\\r]+/g, '').trim();\n        if (pastedValue !== null) {\n            const status = this.parseAtlasString(pastedValue);\n            this.hostList.updateHostsFromUriWriter();\n            return status;\n        }\n        return false;\n    }\n\n    // this is a 3.4 URI\n    // mongodb://<USERNAME>:<PASSWORD>@cluster0-shard-00-00-juau5.mongodb.net:27017,cluster0-shard-00-01-juau5.mongodb.net:27017,cluster0-shard-00-02-juau5.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin\n    parseTo3dot4(atlasString, tempWriter) {\n        tempWriter.env = TEMPLATE_TYPE_ATLAS_34;\n        // save the environment selection\n        this.saveState(tempWriter, 'cloud');\n        tempWriter = this.loadState(this.loadCurrentState());\n        const re = /(\\S+):\\/\\/(\\S+):(\\S*)@(\\S+)\\/(\\S+)\\?(\\S+)/;\n        const matchesArray = atlasString.match(re);\n        if (!matchesArray) {\n            return false;\n        }\n\n        tempWriter.username = matchesArray[2];\n        tempWriter.hostlist = matchesArray[4].split(',');\n        tempWriter.database = matchesArray[5];\n        splitOptions(tempWriter, matchesArray[6]);\n        this.saveState(tempWriter, this.loadCurrentState());\n        return true;\n    }\n\n    // this is a 3.6 url, parse accordingly\n    // ex: mongodb+srv://<USERNAME>:<PASSWORD>@cluster0-juau5.mongodb.net/test\n    parseTo3dot6(atlasString, tempWriter) {\n        tempWriter.env = TEMPLATE_TYPE_ATLAS_36;\n        // save the environment selection\n        this.saveState(tempWriter, 'cloud');\n        tempWriter = this.loadState(this.loadCurrentState());\n        // regexp for 3.6 format\n        const re = /(\\S+):\\/\\/(\\S+):(\\S*)@(\\S+)\\/([^\\s?]+)\\?/;\n        const matchesArray = atlasString.match(re);\n        if (!matchesArray) {\n            return false;\n        }\n\n        tempWriter.username = matchesArray[2];\n        tempWriter.havePassword = Boolean(matchesArray[3]);\n        tempWriter.hostlist = [matchesArray[4]];\n        tempWriter.database = matchesArray[5];\n        this.saveState(tempWriter, this.loadCurrentState());\n        return true;\n    }\n\n    parseAtlasString(atlasString) {\n        const tempWriter = this.loadState('true');\n        // add shell parser here\n        if (atlasString.indexOf(' --') > -1) {\n            return this.parseShell(atlasString, tempWriter);\n        }\n        if (atlasString.startsWith('mongodb+srv')) {\n            return this.parseTo3dot6(atlasString, tempWriter);\n        }\n        return this.parseTo3dot4(atlasString, tempWriter);\n    }\n}\n\n// Create Uriwriter\nexport function setup() {\n    uriwriterSingleton = new UriwriterSingleton();\n    uriwriterSingleton.initializeWidget();\n}\n","function fullDocsPath(base) {\n    const body = document.getElementsByClassName('body')[0];\n    let path = body.getAttribute('data-pagename');\n\n    // skip if pagename is undefined (index.html)\n    if (path === 'index') {\n        path = '';\n    } else if (path) {\n        path = `${path}/`;\n    }\n\n    return `/${base}/${path}`;\n}\n\nexport function setup() {\n    $('.version-selector').on('click', (e) => {\n        e.preventDefault();\n        const base = $(e.currentTarget).data('path');\n        window.location.href = fullDocsPath(base);\n    });\n}\n","import * as componentAccordion from './componentAccordion';\nimport * as componentCloseOpen from './componentCloseOpen';\nimport * as componentCodeBlockFix from './componentCodeBlockFix';\nimport * as componentCopyButtons from './componentCopyButtons';\nimport * as componentFastLoad from './componentFastLoad';\nimport * as componentFeedback from './componentFeedback';\nimport * as componentGuides from './componentGuides';\nimport * as componentLightbox from './componentLightbox';\nimport * as componentOpenAPI from './componentOpenAPI';\nimport * as componentPillStrip from './componentPillStrip';\nimport * as componentSidebar from './componentSidebar';\nimport * as componentTabs from './componentTabs';\nimport * as componentThirdParty from './componentThirdParty';\nimport * as componentToggleController from './componentToggleController';\nimport * as componentUriWriter from './componentUriwriter';\nimport * as componentVersionSelector from './componentVersionSelector';\n\nclass FastNav {\n    constructor() {\n        this.components = [];\n    }\n\n    register(component) {\n        this.components.push(component);\n        if (component.init) { component.init(); }\n    }\n\n    update() {\n        for (const component of this.components) {\n            component.setup(this);\n        }\n    }\n}\nconst fastNav = new FastNav();\n\n$(() => {\n    // Monkey-patch jQuery to add the removed load() event handler.\n    // This is required by the JIRA issue collector \n    jQuery.fn.load = function(callback) { $(window).on('load', callback); };\n\n    componentThirdParty.initialize();\n\n    fastNav.register(componentCodeBlockFix);\n    fastNav.register(componentCopyButtons);\n    fastNav.register(componentFastLoad);\n    fastNav.register(componentFeedback);\n    fastNav.register(componentLightbox);\n    fastNav.register(componentSidebar);\n    // Must preceed componentTabs\n    fastNav.register(componentPillStrip);\n    fastNav.register(componentTabs);\n    fastNav.register(componentVersionSelector);\n    fastNav.register(componentThirdParty);\n    fastNav.register(componentGuides);\n    fastNav.register(componentOpenAPI);\n    fastNav.register(componentUriWriter);\n    fastNav.register(componentToggleController);\n    fastNav.register(componentCloseOpen);\n    fastNav.register(componentAccordion);\n\n    /* Hide toc if there aren't any items */\n    if (!$('.toc > ul > li > ul > li').length) {\n        $('.right-column .toc').hide();\n    }\n\n    /* Expand/collapse navbar on narrower viewports */\n    $('.expand-toc-icon').on('click', (e) => {\n        e.preventDefault();\n        $('.sidebar').toggleClass('reveal');\n    });\n\n    /* Reset the sidebar when the viewport is wider than tablet size */\n    const $window = $(window);\n    const $sidebar = $('.sidebar');\n    let isTabletWidth = $window.width() <= 1093;\n    $window.resize((e) => {\n        if (isTabletWidth && $window.width() > 1093) {\n            isTabletWidth = false;\n            $sidebar.removeClass('reveal');\n        } else if (!isTabletWidth && $window.width() <= 1093) {\n            isTabletWidth = true;\n        }\n    });\n\n    /* Adjust the scroll location to account for our fixed header */\n    function offsetHashLink() {\n        if (location.hash && document.getElementById(location.hash.substr(1))) {\n            $(window).scrollTop(window.scrollY - 75);\n        }\n    }\n    window.addEventListener('hashchange', offsetHashLink);\n    if (location.hash) {\n        window.setTimeout(offsetHashLink, 10);\n    }\n    $('.content').on('click', 'a', (e) => {\n        // Fixes corner case where the user clicks the same hash link twice\n        if ($(e.currentTarget).attr('href') === location.hash) {\n            window.setTimeout(offsetHashLink, 10);\n        }\n    });\n\n    // Update dynamic page features\n    fastNav.update();\n\n    if (document.querySelector) {\n        // Scroll so that the selected navbar element is in view.\n        const current = document.querySelector('a.current');\n        if (current) {\n            current.scrollIntoView(false);\n        }\n    }\n});\n"],"names":["isLeafNode","$node","siblings","length","toArray","arrayLike","result","i","push","requiresPageload","docsExcludedNav","window","href","indexOf","reportAnalytics","eventName","data","analytics","track","err","error","Dispatcher","listeners","handler","ctx","this","COLLAPSED_PROPERTY","accordionShowHide","element","classList","toggle","control","querySelector","innerHTML","innerText","contains","accordionElements","document","getElementsByClassName","addEventListener","bind","showNavButton","getElementById","onclick","style","display","closeNavButton","fixCodeBlock","block","Boolean","isLineNumberBlock","isCaptionBlock","buttonRow","caption","log","parentNode","insertBefore","nextSibling","tableBody","childNodes","tableButtonRow","createElement","linenosSpacer","buttonRowDestination","className","firstChild","appendChild","codeblocks","codeblock","TOOLTIP_STATE_ACTIVE","TOOLTIP_STATE_INACTIVE","isCopyableCodeBlock","copyableBlocks","filter","highlightElement","copyButton","popupElement","add","closePopupTimer","tempElement","position","body","f","timeoutID","ms","text","trim","value","select","execCommand","Error","replace","clearTimeout","setTimeout","removeChild","code","location","hash","el","slice","scrollIntoView","fastNav","undefined","history","querySelectorAll","XMLHttpRequest","responseURL","navRootElement","bodyElement","curLoading","abortLoading","xhr","abort","loadPage","createHistory","remove","startTime","Date","url","options","onload","status","success","responseText","complete","onerror","open","send","xhrGet","pageText","trueUrl","enlapsedMs","pushState","page","title","textContent","newBody","newNav","parentElement","replaceChild","update","onnavigate","scroll","replaceState","nodes","handleClickFunction","ev","button","shiftKey","altKey","metaKey","ctrlKey","preventDefault","currentTarget","node","util","$","onpopstate","state","emptyFunction","module","shim","props","propName","componentName","propFullName","secret","ReactPropTypesSecret","name","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","require$$0","VNode","stack","EMPTY_CHILDREN","h","nodeName","attributes","lastSimple","child","simple","children","arguments","pop","String","p","key","extend","obj","defer","Promise","resolve","then","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","rerender","list","renderComponent","isNamedNode","normalizedNodeName","toLowerCase","getNodeProps","vnode","defaultProps","removeNode","setAccessor","old","isSvg","cssText","test","__html","useCapture","substring","eventProxy","removeEventListener","_listeners","e","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","type","mounts","diffLevel","isSvgMode","hydrating","flushMounts","c","componentDidMount","diff","dom","context","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","out","prevSvgMode","splitText","_component","nodeValue","createTextNode","recollectNodeTree","vnodeName","originalComponent","oldDom","isDirectOwner","_componentConstructor","isOwner","_parentComponent","constructor","setComponentProps","base","unmountComponent","createComponent","nextBase","buildComponentFromVNode","createElementNS","fc","vchildren","a","isHydrating","j","vchild","originalChildren","keyed","keyedLen","min","len","childrenLen","vlen","_child","__key","innerDiffNode","dangerouslySetInnerHTML","attrs","diffAttributes","unmountOnly","ref","removeChildren","lastChild","next","previousSibling","recyclerComponents","Ctor","inst","prototype","render","Component","call","doRender","splice","renderMode","_disable","__ref","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","snapshot","shouldComponentUpdate","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","toUnmount","childComponent","childProps","baseParent","componentRef","t","unshift","componentDidUpdate","_renderCallbacks","componentWillUnmount","inner","setState","callback","forceUpdate","preact","cloneElement","merge","BinaryQuestion","store","get","upvoteClass","downvoteClass","class","set","FreeformQuestion","placeholder","target","propTypes","STATE_INITIAL","MainWidget","onSubmit","_this","onToggle","onClear","voteAcknowledgement","delugeBodyClass","delugeHeaderClass","delugeClass","id","_this2","sorry","map","onClick","Deluge","vote","fields","answers","keys","Object","sendRating","catch","path","project","analyticsData","user","segmentUID","toString","segmentAnonymousID","anonymousId","reject","parameters","encodeURIComponent","JSON","stringify","join","addQueryParameters","img","Image","src","_this3","val","_this4","makeStore","ratingPanelElement","blacklist","getAttribute","localStorage","rootElement","_delugeRendered","bodyElements","pagename","getPageName","tabsEventDispatcher","getTabPref","parse","getItem","setTabPref","pref","anonymous","tabPref","pages","pathname","tabId","setItem","tabSets","TabSet","tabType","tabStripElements","tabContents","tabStrips","tabIds","tabsElement","tabBars","mainTabBar","first","detach","insertAfter","initRect","getBoundingClientRect","offset","scrollY","y","rects","scrollTo","x","isUserAction","getFirstTabId","dispatch","currentAttrValue","tabStrip","tabLink","tabList","dropdownLink","dropdownListItem","hasClass","append","attr","childElement","tabElement","tabContent","firstTabidElement","tabSet","concat","listen","showHideSelectedTab","tabsElements","register","setup","headings","recalculate","height","clientHeight","innerHeight","currentPosition","documentElement","scrollTop","bestMatch","Infinity","headingElement","tocElement","headingPosition","offsetTop","delta","Math","abs","pillClickHandler","wait","args","timeout","previous","later","now","apply","remaining","newArgs","throttle","showCurrentLanguageElements","leftToc","linkElement","guidesCategoryListElement","pills","CLASS_ACTIVATED","CLASS_SCALABLE","modal","modalContent","closeLightbox","wrapImage","wrapperElement","captionElement","alt","wrapIfNeeded","figure","naturalArea","naturalWidth","naturalHeight","clientWidth","tagName","createClickButNotSelectionHandler","dragStart","formerDragStart","clientX","clientY","toggleResource","classListAction","resourceElement","expand","requested","resourceHeaderElements","tabTypes","elements","pillStripElement","tabsType","pillStripElements","seenPills","tabStripElement","childElements","clickHandler","strip","tabTitle","pill","isCurrentNode","$current","addClass","parents","each","index","css","hide","show","on","$target","removeClass","slideUp","$el","has","is","slideDown","prepend","expandElement","SAMPLE_FACTORS","initialize","r","n","s","Array","SNIPPET_VERSION","o","async","l","getElementsByTagName","invoked","console","methods","factory","load","_loadOptions","branch","sampleFactor","delighted","survey","STYLE_SELECTED","STYLE","STYLE_DEPLOY","STYLE_DEPLOYTEXT","setToggleState","getTabNode","event","tabPrefs","cloud","cloudState","TEMPLATES","getValue","option","PLACEHOLDER_PATTERN","HostList","uriWriter","root","elementPairs","updateHostsFromUriWriter","loadState","loadCurrentState","hostlist","host","addHost","inputElement","statusElement","oninput","lastInput","setHosts","hosts","parsed","exec","port","parseInt","isNaN","setCustomValidity","message","pair","uriwriterSingleton","UriwriterSingleton","uristowrite","usernamestowrite","uristowritepasswordredactedshell","uristowriteshell","urireplacestring","hostList","setupURIListeners","loadTemplateEnv","renderURI","registerDispatch","env","saveState","atlas","atlasState","uriwriter","atlaspasteduri","prefix","uri","charAt","urireplacestringPasswordRedactedShell","urireplacestringShell","username","isAtlas","startsWith","saveCurrentState","haveWidgetOnPage","parseIncomingAtlasString","populateForm","addValue","initiallySelected","parentChildren","childIndex","setEnvironment","template","uristring","replaceString","templateShell","templatePasswordRedactedShell","writeToPlaceholders","optionJoinCharacter","parts","localUriString","database","authSource","replicaSet","optionsString","optionStringifier","renderOption","optionElement","label","serverPromptElement","atlaspaste","pastedValue","setupEnvironmentListeners","atlasControlsElement","toggleEnvironmentExternal","renderOptions","renderFormValues","_this5","splitOnSpace","tempWriter","splitKey","splitValue","shellString","uriParamArray","split","keyValueArray","splitOnSpaceClusterEnv","shellMatch","shellArray","match","hostListString","parseOutURIParams","atlasString","parseOutShellParams","parseOutEnvAndClusters","parseAtlasString","matchesArray","arrayOfMatches","settingsArray","keyValue","havePassword","parseShell","parseTo3dot6","parseTo3dot4","initializeWidget","fullDocsPath","components","init","fn","componentCodeBlockFix","componentCopyButtons","componentFastLoad","componentFeedback","componentLightbox","componentSidebar","componentPillStrip","componentTabs","componentVersionSelector","componentThirdParty","componentGuides","componentOpenAPI","componentUriWriter","componentToggleController","componentCloseOpen","componentAccordion","toggleClass","$window","$sidebar","isTabletWidth","width","offsetHashLink","substr","resize","current"],"mappings":"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"}