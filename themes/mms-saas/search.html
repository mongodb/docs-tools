{% extends "layout.html" %}
{% set title = _('Search') %}

{% block body %}
  <div class="section search-header">
    <h1 id="search-documentation">{{ _('Search') }}</h1>
    <div id="fallback" class="admonition warning">
    <script type="text/javascript">
      $('#fallback').hide();

      // hide unnecessary text if we are displaying search results
      if ((function getParameterByName(name) {
        name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
      })('query')) {
        $('.search-header').hide();
      }
    </script>
    <p>
      {% trans %}Please activate JavaScript to enable the search
      functionality.{% endtrans %}
    </p>
    </div>
    <p>
      {% trans %}From here you can view your search results. Enter your search
      words into the box at the top right of the page and press "Enter". Note that the search
      function will automatically search for all of the words. Pages
      containing fewer words won't appear in the result list.{% endtrans %}
    </p>
  </div>
  {% block gcseresults %}
    <div id="cse-results">
      <gcse:searchresults-only linkTarget="_top" queryParameterName="query"></gcse:searchresults-only>
    </div>
  {% endblock %}
{% endblock %}
